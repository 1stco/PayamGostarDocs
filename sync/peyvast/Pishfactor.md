# پیش‌فاکتور فروش

نحوه‌ی انتقال پیش‌فاکتور فروش به‌صورت دوطرفه از پیام‌گستر به پیوست و از پیوست به پیام‌گستر می‌باشد.

## نقطه اشتراک همگام‌سازی:
مقدار داشتن فیلد شماره پیش‌فاکتور در پیام‌گستر و پیوست به‌عنوان مبنا برای سینک بین دو نرم‌افزار الزامی می‌باشد.

## فیلدهای قابل انتقال: 
نام مشتری، تاریخ انقضا فاکتور، شماره فاکتور، تاریخ صدور فاکتور، کل تخفیف، کل اضافات، کل مالیات، قیمت نهایی، موضوع و ردیف‌های فاکتور (نام محصول، کد محصول، تعداد، مجموع قیمت پایه، مجموع تخفیف، مالیات و قیمت نهایی) و توضیحات از پیوست به پیام‌گستر و بالعکس منتقل می‌شوند

## نکات مربوط به پیش‌فاکتور فروش:

•    موجودی کالا در هر انبار و نام انبار از طریق وب‌سرویس خوانده می‌شود.

•    حذف پیش‌فاکتور فروش فقط از سمت پیوست به پیام‌گستر تأثیر دارد.

•    ویرایش پیش‌فاکتور فروش درصورتی‌که از سمت مرجع ایجاد آن باشد در سیستم طرف مقابل اعمال می‌شود. به‌عنوان‌مثال اگر مرجع ایجاد پیوست باشد در پیام‌گستر اعمال می‌شود و بالعکس.

####  در هنگام استفاده از سرویس انتقال پیش‌فاکتور از پیام‌گستر به نرم‌افزار پیوست رعایت موارد زیر الزامی است:

-  تمامی محصولات باید از نرم‌افزار پیوست به سیستم پیام‌گستر سینک شده باشند. محصولات فقط در سیستم پیوست تعریف شود. 

-  تمامی مشتری‌ها باید در نرم‌افزار پیوست و پیام‌گستر ثبت شده باشند.

•    شرط وب‌سرویس موجودی انبار تعریف شده است و هنگامی که در پیش‌فاکتور انبار انتخاب شود اگر انبار داشته باشد، انبار را از سیستم مالی می‌خواند و در غیر این صورت انبار را طبق تنظیمات پیشرفته پنل نمایش می‌دهد.

•    در تنظیمات همگام ساز 2 چک باکس به نام‌های "سیستم مالی به نرم‌افزار CRM" و "نرم‌افزار CRM به سیستم مالی" وجود دارد که بر اساس آن‌ها می‌توان جهت سینک پیش‌فاکتور فروش را مشخص کرد.

•    در ویرایش پیش‌فاکتور، به دلیل سینک پیش‌فاکتورها بر اساس شماره آنها، شماره پیش‌فاکتور نباید ویرایش شود و در صورت تغییر شماره، یک پیش‌فاکتور جدید ایجاد می‌شود. 
