# محصولات

نحوه انتقال محصولات به‌صورت یک‌طرفه از تدبیر به پیام‌گستر می‌باشد.

## نقطه اشتراک همگام‌سازی:

مقدار داشتن فیلد کد کالا در پیام‌گستر و فیلد کد کالا یا خدمت در تدبیر به‌عنوان مبنا برای سینک بین دو نرم‌افزار الزامی می‌باشد.

## فیلدهای قابل انتقال:

نام کالا یا خدمت، کد کالا یا خدمت، واحد کالا، قابل‌فروش بودن محصول، مالیات پذیر بودن محصول، نام انبار، موجودی محصول، قیمت واحد محصول و شرح به پیام‌گستر منتقل می‌شوند.

## نکات مرتبط با محصولات:

•    موجودی کالا و نام انبار در هر انبار از طریق وب‌سرویس خوانده می‌شود.

**مسیر فیلد موجودی کالا:** تب خریدوفروش > گزارش موجودی کالا >  انتخاب انبار موردنظر> خواندن موجودی کالا ازروی فیلد مقدار

در تدبیر یک محصول می‌تواند چند روش قیمت‌گذاری داشته باشد، اولین روش قیمت‌گذاری از تدبیر به پیام‌گستر در فیلد قیمت سینک می‌شود. در صورت تغییر روش قیمت‌گذاری در تدبیر، برای ویرایش قیمت‌ها در پیام‌گستر لازم است مجدد دکمه انتقال همه در قسمت محصولات تنظیمات همگام‌ساز را کلیک کنید.

•    برای انتقال واحد کالا از تدبیر به پیام‌گستر باید لازم واحدهای اندازه‌گیری در تدبیر عیناً در پیام‌گستر تعریف شوند. در صورت یکسان نبودن واحدهای تدبیر و پیام‌گستر فیلد واحد انتقال پیدا نمی‌کند.

•    حذف و ویرایش محصول فقط از سمت تدبیر به پیام‌گستر تأثیر دارد.

•    تیک‌های قابل‌خرید و قابل‌فروش به‌صورت دستی در پیام‌گستر فعال می‌شوند.

•    موجودی کالا در هر انبار از طریق وب‌سرویس خوانده می‌شود؛ درصورتی‌که برای سرویس همگام‌ساز چند پایگاه‌داده وجود داشته باشد، طبق تنظیمات وب‌سرویس، محصول از انبار کد شرکتی که در آدرس {کد شرکت}http://localhost:9092/api/inventory/  تعریف شده است می‌خواند و درصورتی‌که کد شرکت خالی باشد و تعریف نشده باشد، محصول را در تمام انبارهای تعریف شده در پایگاه‌داده جست‌وجو می‌کند و مجموع محصول را در تمامی انبارها نشان می‌دهد. 
