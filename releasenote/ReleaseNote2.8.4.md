# شرح تغییرات نسخه 2.8.4
######  ۲۱ مرداد ۱۴۰۳
##### قابلیت‌های جدید
- **تنظیمات امنیتی؛ اضافه شدن قابلیت پشتیبانی از نشست کاربر**<br>
در جهت تکمیل قابلیت‌های امنیتی افزوده شده در نسخه‌ی ۲.۸.۱، امکان پشتیبانی از نشست کاربر به نرم‌افزار اضافه شده‌است. بر اساس این قابلیت، اعتبار نشست کاربر در نرم‌افزار، به جای زمان ورود، از زمان آخرین فعالیت کاربر در نرم‌افزار سنجیده می‌شود. برای آشنایی بیشتر با این تنظیمات، به راهنمای [تنظیمات امنیتی](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Settings/General-settings/security/SecuritySetting-2.8.4.md) مراجعه نمایید.<br>
این گزینه در بخش [تنظیمات امنیتی کنسول کاربر](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Settings/GroupsAndUsersManagement/UsersAndGroupsManagement.2.8.4.md) نیز در دسترس است.<br>
- **پشتیبانی از رفرش توکن**<br>
در جهت بهبود تجربه‌ی کاربری در کنار حفظ موارد امنیتی نرم‌افزار، قابلیت پشتیبانی از رفرش توکن به نسخه‌ی جدید اضافه شده‌است. با فعال‌سازی این گزینه در تنظیمات کلی امنیتی نرم‌افزار می‌توانید مدت اعتبار توکن کاربر و مدت اعتبار رفرش توکن کاربر را تعیین نمایید. جهت آشنایی بیشتر با این قابلیت، راهنمای [تنظیمات امنیتی](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Settings/General-settings/security/SecuritySetting-2.8.4.md#RefreshToken) را مطالعه نمایید.<br>
- **مدیریت کاربر؛ امکان مشاهده فعالیت‌های هر کاربر در صفحه کنسول مدیریت کاربر**<br>
صفحه‌ی کنسول مدیریت کاربر، به منظور بهبود تجربه‌ی کاربری، در نسخه‌ی جدید تغییر یافته‌است. در پی این تغییرات بخش فعالیت‌های کاربر به صفحه مذکور اضافه شده‌است. در این قسمت می‌توانید تمامی فعالیت‌های کاربر اعم از ایجاد، حذف یا ویرایش آیتم و حتی وظایف ارجاع داده‌شده، سوابق منتقل شده و ... را مشاهده نمایید. برای کسب اطلاعات بیشتر در مورد این قابلیت، به راهنمای [مدیریت کاربران و گروه‌ها](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Settings/GroupsAndUsersManagement/UsersAndGroupsManagement.2.8.4.md#َUserActivities) مراجعه نمایید.<br>

##### موارد بهبود یافته
- **مجوزها؛ عدم نمایش هویت در بخش‌های جستجو برای کاربرانی که مجوز مشاهده لیست زیرنوع هویت مربوطه را ندارند**<br>
بر اساس رفتار نرم‌افزار، چنانچه کاربران مجوز «جستجوی پیشرفته» را داشتند، می‌توانستند تمامی هویت‌های حاصل از جستجو در هر بخش (مانند ویجت جستجوی پیشرفته، مرتبط با در آیتم‌های مختلف، جستجوی صفحه اصلی و...) را مشاهده کنند. با وجود اینکه بدون داشتن مجوز «مشاهده آیتم» بر روی زیرنوع هویت مربوطه، کاربر قادر به ورود به پروفایل و مشاهده صفحه مشخصات هویت نبود، می‌توانست هویت را در نتیجه‌ی جستجو مشاهده و یا آن را به عنوان مرتبط با در یک آیتم انتخاب نماید. <br>
به منظور ارتقا سطح امنیتی و حفظ محرمانگی اطلاعات هویت‌ها، نمایش اسامی در تمامی بخش‌های جستجوی هویت (مثل ویجت جستجوی پیشرفته، تب جستجوی پیشرفته و مرتبط با در آیتم‌ها)، به داشتن مجوز «مشاهده‌ی لیست» در آن زیرنوع هویت منوط شده‌است. این بدین معناست که چنانچه هویت X از زیر نوع مخاطب حقیقی، در یکی از این بخش‌ها (مثلاً بخش مرتبط با) جستجو شود، اما کاربر مجوز مشاهده لیست زیرنوع مخاطب حقیقی را نداشته‌باشد، هویت X به کاربر نمایش داده نشده و ایشان امکان انتخاب این نام برای ثبت آیتم را نخواهندداشت.<br>
- **گزارش‌ساز؛ افزودن امکان استفاده از پیش‌نمایش عناوین فیلدهای اضافه شده از نوع لیست‌های مرتبط**<br>
امکان استفاده از پیش‌نمایش عناوین لیست‌های مرتبط که طی شخصی‌سازی به آیتم‌ها اضافه شده‌‌اند، برای ساخت گزارش به ابزار گزارش‌ساز اضافه شد. در نسخه‌های پیشین، با توجه به عدم دسترسی به پیش‌نمایش عناوین تعریف شده در گزینه‌های لیست‌های مرتبط، امکان استفاده از اطلاعات این فیلدها در تهیه‌ی گزارشات وجود نداشت (گزینه‌های لیست‌های مرتبط با Index هر لایه نمایش داده‌می‌شد). با افزودن کلید پیش‌نمایش این عناوین، زین پس می‌توانید در تهیه‌ی گزارش‌ها از اطلاعات مندرج در لیست‌های مرتبط که طی شخصی‌سازی به آیتم‌ها اضافه شده‌اند نیز استفاده نمایید.<br>

##### خطاهای برطرف شده
- **انبارداری؛ رفع مشکل تایید حواله در شرایط عدم موجودی**<br>
در نسخه‌ی قبلی نرم‌افزار، چنانچه برای کالایی با موجودی ناکافی، به صورت دستی حواله صادر می‌شد، حواله مذکور بدون دریافت پیغام خطا می‌توانست توسط مسئول مربوطه تایید شود. رفتار خطای حواله در این نسخه اصلاح شده و چنانچه  در انبار منتخب، موجودی کافی برای محصولی که برای آن حواله صادر شده وجود نداشته‌باشد، مسئول تایید/رد حواله، هنگام تایید حواله با پیغام «امکان انجام این عملیات به دلیل منفی شدن انبار وجود ندارد» روبرو می‌شود.<br>
- **فیلد لیست محصول؛ رفع مشکل انتخاب محصولات اضافه شده در لیست محصول**<br>
 مشکل مشاهده شده در انتخاب نام محصولات اضافه شده در فیلد لیست محصولات (جهت کپی یا اقدامات دیگر)، رفع شده‌است. در نسخه جدید می‌توانید نام یا سایر اطلاعات مندرج در فیلد لیست محصول را انتخاب و کپی نمایید.<br>
- **فاکتور؛ رفع مشکل افزودن محصول به ردیف فاکتور با Enter**<br>
مشکل موجود در مورد اضافه کردن محصول به فاکتور با فشردن دکمه Enter بر طرف شده‌است. در نسخه قبلی، کاربر برای اضافه کردن محصول انتخابی به ردیف فاکتور، صرفاً می‌توانست از کلید افزودن استفاده نماید. مشکل اضافه نشدن محصول با کلید Enter رفع شده و کاربر مجدد می‌تواند به راحتی با یک Enter محصول انتخابی را به ردیف فاکتور خود اضافه نماید.<br>
- **مدیریت حکم‌های پرسنلی؛ رفع مشکل رخ داده در حکم‌های پرسنلی در سال کبیسه**<br>
در صورت انتخاب روز ۳۰ اسفند به عنوان تاریخ پایانی حکم پرسنلی، سیستم دچار مشکل شده و صفحه حکم‌های پرسنلی و کاربران جانشین با خطا مواجه می‌شد. در نسخه جدید تاریخ ۳۰ اسفند در تقویم تاریخ پایان حکم‌های پرسنلی، صرفاً در سال کبیسه برای کاربران قابل انتخاب خواهدبود. بدین ترتیب از ایجاد چنین خطایی جلوگیری شده‌است.<br>
- **فرآیند؛ رفع خطای فعالیت تصمیم بر اساس رنگ هویت**<br>
در نسخه‌ی قبلی، چنانچه در فرآیند از تصمیم استفاده کرده‌ و شرط آن را بر اساس رنگ هویت تنظیم می‌کردید، تنظیمات اعمال شده پس از ذخیره حذف شده و تصمیم‌گیری بر اساس رنگ هویت، با خطا مواجه می‌شد. مشکل مذکور در نسخه‌ی جدید رفع شده و می‌توانید از فعالیت تصمیم برای تعیین مسیر فرآیند بر اساس رنگ هویت مربوطه استفاده نمایید.<br>
- **فرآیند؛ رفع مشکل استفاده از عبارت هوشمند لینک در پیام سفارشی در فعالیت ایجاد لینک پرداخت**<br>
در فعالیت ایجاد لینک پرداخت که در پیاده‌سازی فرآیند برای ایجاد و ارسال لینک پرداخت از آن استفاده می‌شود، امکان استفاده از دو نوع پیام پیش‌فرض و سفارشی وجود دارد. در نسخه‌ی قبلی، در حالت استفاده از پیام سفارشی، عبارت هوشمند **لینک** برای درج در متن قابل انتخاب نبود. مشکل رخ داده در این بخش برطرف شده و در این نسخه می‌توانید از پیام سفارشی برای ارسال لینک پرداخت در فرآیند خود استفاده نمایید.<br>
- **تاریخ‌های مهم؛ رفع مشکل ارسال پیام در تاریخ‌های مهم**<br>
خطای مشاهده شده در ارسال پیام‌های تنظیم شده بر اساس تاریخ‌های مهم هر هویت، در نسخه‌ی جدید رفع شده‌است. با توجه به اینکه پیام‌های تنظیم شده برای ارسال در تاریخ‌های مهم، تا فرا رسیدن زمان ارسال سایر پیام‌ها در لیست انتظار باقی می‌ماند، احتمال خطا در زمان ارسال پیام افزایش یافته بود. این مشکل در نسخه‌ی جدید رفع شده و پیام بر اساس تاریخ‌های مهم هر هویت ارسال می‌شود.<br>
- **مجوزها؛ عدم نمایش گردش کار در کارتابل کاربرانی که مجوز مشاهده گردش کار را ندارند**<br>
کاربران در صورت داشتن مجوز «مشاهده کامل گردش کار» آیتم تحت چرخه، از دو بخش صفحه آیتم تحت چرخه (کلید مشاهده گردش کار) و کارتابل فرآیند (کلید گردش سوابق) می‌توانند گردش کار فرآیند را مشاهده و ویرایش نمایند. در نسخه‌ی جدید، مشکل گزارش شده در مورد امکان مشاهده گردش کار از طریق کارتابل فرآیند بدون داشتن مجوز «مشاهده کامل گردش کار» برطرف شده و کاربران برای مشاهده و ویرایش گردش کار از هر دور مسیر نیازمند به داشتن این مجوز هستند.
- **شخصی‌سازی؛ رفع مشکل دانلود تصویر در فیلد تصویر**<br>
مشکلات اعلامی در زمینه‌ی عدم امکان دانلود تصویر بارگذاری شده در فیلد تصویر، پس از ذخیره‌ی آیتم، در نسخه‌ی جدید رفع شده‌است. کاربرانی که امکان مشاهده‌ی آیتم را داشته‌باشند، با کلیک بر روی کلید دانلود در فیلد تصویر، می‌توانند به راحتی اقدام به دانلود تصویر بارگذاری شده در این فیلد نمایند.<br>
- **شخصی‌سازی؛ رفع مشکل ذخیره‌ آیتم‌ها در پی تنظیم ترتیب نمایش زیرنوع موجودیت‌ها**<br>
در نسخه‌های پیشین، تنظیم ترتیب نمایش زیرنوع موجودیت‌ها بر اساس فیلدهای تاریخی، در برخی موارد باعث رخداد خطا در ذخیره‌ی آیتم‌های مرتبط می‌شد. این مشکل در نسخه‌ی جدید رفع شده و می‌توانید هر یک از فیلدهای مورد نظر را به عنوان مبنای ترتیب نمایش آیتم‌های ثبت‌شده انتخاب کنید.<br>
- **اپلیکیشن موبایل پیام‌گستر؛ رفع مشکل تعداد وظایف و فرآیندها در کارتابل**<br>
با توجه به مشاهده مواردی در نمایش نادرست تعداد وظایف و فرآیندها در کارتابل کاربر در اپلیکیشن موبایل، اصلاحات لازم در نسخه‌ی جدید اعمال شده‌است. به منظور دسترسی به آخرین تغییرات و استفاده از نسخه‌ی جدید، اپلیکیشن موبایل پیام‌گستر را به‌روزرسانی نمایید. برای دانلود آخرین نسخه اپلیکیشن، [اینجا](https://cafebazaar.ir/app/com.payamgostar.android.app) کلیک نمایید.