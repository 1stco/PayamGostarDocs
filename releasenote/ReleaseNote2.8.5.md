# شرح تغییرات نسخه 2.8.5
###### ۳ دی ۱۴۰۳

##### قابلیت‌های جدید
- **[تماس؛ اضافه شدن قابلیت تنظیم عملیات بر اساس زمان تغییرات تماس](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Basic-Information/Telephone-systems/Call-reminder-settings/CallReminderSetting_2.8.5.md#CallReminderTime)**<br>
از این پس می‌توانید علاوه بر «شروع تماس» و «خاتمه تماس»، «تغییرات تماس» را نیز به عنوان زمان مورد نظر برای اجرای عملیات تنظیم شده در یادآوری تماس انتخاب نمایید. بر این اساس، هر تغییر در وضعیت تماس (مثل انتقال تماس به داخلی دیگر)، به منزله‌ی اجرای عملیات می‌باشد.
- **[تماس؛ اضافه شدن امکان درج نام کاربری مرتبط با داخلی تماس به عنوان ایجادکننده‌ی فرم](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Basic-Information/Telephone-systems/Call-reminder-settings/CallReminderSetting_2.8.5.md)**<br>
یکی از عملیات‌های قابل تنظیم برای یادآوری تماس، ایجاد فرم می‌باشد. به صورت پیش‌فرض، به سبب ثبت خودکار فرم توسط نرم‌افزار، سیستم به عنوان ایجادکننده‌ی فرم در نظر گرفته می‌شود. در نسخه‌ی جدید این امکان فراهم شده‌است که با فعال‌سازی گزینه‌ی «ایجاد فرم برای هر داخلی پاسخگو»، نام کاربری مرتبط با داخلی مورد نظر (داخلی‌ای که تماس به آن وارد یا از آن برقرار شده‌است) به عنوان ایجادکننده‌ی فرم درج شود.
- **ارسال پیام؛ اضافه شدن قابلیت کوتاه‌سازی لینک‌های ارسالی در متن پیامک‌ها و پیام‌‌های شبکه‌های اجتماعی**<br>
در تمامی صفحات تنظیم پیام کوتاه و پیام‌های شبکه اجتماعی (نظیر یادآوری‌های انبوه، ارسال سریع و تنظیمات یادآوری تماس)، گزینه‌‌ی «کوتاه‌سازی لینک‌های متن» اضافه شده‌است. با فعال‌سازی این گزینه تمامی لینک‌های موجود در متن پیام به صورت کوتاه شده برای مخاطب ارسال می‌شود. در نتیجه نیازی نیست که برنامه‌های جانبی برای دست‌یابی فرم کوتاه‌شده‌ی لینک‌های خود استفاده نمایید.
- **وب‌سرویس؛ امکان انتقال اطلاعات فیلدهای لیستی از طریق API**<br>
زین پس امکان انتقال اطلاعات فیلدهای لیستی از طریق API در سرویس‌های Rest فراهم می‌باشد. 

##### موارد بهبودیافته
- **[پارامترهای هوشمند؛ ارائه روش سوم برای درج پارامترهای هوشمند در متن پیام‌ها](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Marketing/Parameters/MessageParameters.md)**<br>
تا کنون کاربران می‌توانستند با استفاده از انتخاب کلیک پارامترهای هوشمند (که در کنار صفحه تنظیم پیام در دسترس است) و همچنین استفاده از روش prop، از پارامترهای هوشمند برای شخصی‌سازی پیام‌های ارسالی استفاده کنند. از این پس کاربران می‌توانند از پیشوند $ نیز برای درج کلید پارامترهای هوشمند در متن پیام خود استفاده کنند. این روش می‌تواند کار تنظیم پیام در محتوای HTML را تسهیل کند. 

##### خطاهای برطرف شده
- **محصولات؛ رفع خطای نمایش محصولات غیرقابل فروش در فرصت**<br>
بنابر عملکرد نرم‌افزار، محصولات و خدماتی که گزینه‌ی «قابل فروش» در اطلاعات آن‌ها غیرفعال باشد، نباید در آیتم فرصت و فاکتورهای فروش برای انتخاب به کاربر نمایش داده‌شوند. به سبب خطای رخ داده در نسخه‌ی قبلی، با وجود غیرفعال بودن این گزینه در صفحه مدیریت محصولات، محصول در آیتم فرصت برای کاربران قابل مشاهده و قابل انتخاب بود. خطای مذکور در نسخه‌ی جدید رفع شده و با غیرفعال شدن گزینه‌‌ی «قابل فروش» محصول/خدمت، در جدول محصولات آیتم فرصت نیز قابل مشاهده و انتخاب نخواهدبود.
- **فرآیند؛ رفع خطای حذف تصویر و فایل در فعالیت تخصیص مقدار**<br>
بر اساس خطای رخ داده، حذف تصویر/فایل از فیلد تصویر/فایل، که محتوای آن به واسطه‌ی فعالیت تخصیص مقدار در طی فرآیند، در آن بارگذاری شده‌بود، منجر به حذف تصویر/فایل از فعالیت تخصیص مقدار آن می‌شد. برای درک بهتر رخداد، فرآیندی را در نظر بگیرید که در یکی از مراحل آن، یک تصویر/فایل به واسطه‌ی یک فعالیت تخصیص مقدار در یک فیلد از همین نوع در آیتم بارگذاری می‌شد. در مواردی، چنانچه کاربر اقدام به حذف تصویر/فایل مذکور می‌کرد، تصویر/فایل از فعالیت تخصیص مقدار فرآیند مذکور نیز حذف می‌گردید. این خطا در نسخه‌ی جدید رفع شده‌است.
- **دریافت؛ رفع خطای ثبت دریافت در لینک پرداخت**<br>
در نسخه‌ی پیشین، گاهاً مشاهده شده که برای یک لینک پرداخت تایید شده، دو دریافت برای هویت مربوطه ثبت شده‌است. خطای ثبت دو دریافت برای یک واریز (از طریق لینک) در نسخه‌ی جدید برطرف شده‌است.
- **هویت؛ رفع خطای ثبت دو شماره تماس پیش‌فرض هنگام انتقال سوابق هویت**<br>
هنگام انتقال سوابق هویت، اطلاعات تماس وی شامل شماره‌ی موبایل، تلفن ثابت و فکس نیز انتقال پیدا می‌کند. در نسخه‌ی پیشین در این روند، خطاهایی مبتنی بر ثبت دو شماره‌ی پیش‌فرض برای هر یک از این شماره‌ها در صفحه هویت مقصد مشاهده میشد. این مشکل در نسخه‌ی جدید رفع شده و در صورت انتقال شماره‌‌های تماس، شماره‌ی پیش‌فرض هویت مقصد به عنوان شماره‌ی پیش‌فرض در نظر گرفته شده و شماره‌ی منتقل شده از هویت مبدا، به عنوان شماره‌ی ثانویه درج می‌شود. در صورت عدم وجود شماره پیش‌فرض در صفحه هویت مقصد، شماره‌ی منتقل شده به عنوان شماره‌ی پیش‌فرض ثبت می‌گردد.
- **هویت؛ رفع مشکل انتقال سوابق تماس**<br>
مشکلات مشاهده شده در خصوص عدم انتقال سوابق تماس هویت‌ها (هنگام انتقال سوابق) در نسخه‌ی جدید رفع شده و به راحتی می‌توانید سوابق تماس‌های هویت را نیز همراه سایر سوابق وی به هویت دیگری انتقال دهید.
- **پیش‌فاکتور و فاکتور خرید؛ رفع مشکل انتقال اطلاعات فیلدهای مشترک در صدور پیش‌فاکتور و فاکتور از روی یک پیش‌فاکتور دیگر**<br>
بنابر عملکرد نرم‌افزار، چنانچه فیلدهای اضافه شده در زیرنوع‌های مختلف پیش‌فاکتور و فاکتور دارای نام و کلید کاربری یکسان باشند و یا به صورت سوپرفیلد بر روی موجودیت اصلی اضافه شده‌باشند، هنگام صدور پیش‌فاکتور یا فاکتور از روی یک پیش‌فاکتور دیگر، این اطلاعات باید به صورت خودکار در آیتم مقصد نیز درج شوند. با وجود عملکرد بدون نقص این قابلیت در پیش‌فاکتور و فاکتورهای فروش، انتقال اطلاعات در پیش‌فاکتور و فاکتورهای خرید به درستی انجام نمی‌پذیرفت. این خطا در نسخه‌ی جدید رفع شده و بر این اساس چنانچه از روی یک پیش‌فاکتور خرید، فاکتور یا پیش‌فاکتور خرید دیگری ثبت شود، اطلاعات سوپرفیلدها و فیلدهای اضافه شده که عنوان و کلید آن‌ها یکسان هستند، در آیتم صادر شده نیز درج می‌شود.
- **گزارش‌؛ رفع مشکلات نمایش گزارش‌های تحلیلی**<br>
مشکلاتی که در نمایش گزارش‌های تحلیلی در نسخه‌ی پیشین مشاهده شده‌بود، در نسخه‌ی جدید رفع شده‌است.
- **مرکز تماس؛ رفع مشکلات نمایش داشبورد مرکز تماس**<br>
به سبب مشکل رخ داده در نسخه‌ی قبلی، داشبورد مرکز تماس از دسترس برخی کاربران خارج شده‌بود. این مشکل رفع شده و داشبورد مرکز تماس برای تمامی کاربرانی که مجوز آن را داشته‌باشند، در دسترس است.
- **انبار؛ رفع خطای صدور حواله در شرایط عدم موجودی**<br>
در نسخه‌ی قبلی، در صورت تنظیم حواله برای تایید خودکار، هنگام ثبت حواله توسط کاربر، در صورت ناکافی بودن موجودی محصول، با وجود نمایش خطای عدم موجودی کافی، حواله با منفی کردن موجودی محصول در انبار ثبت می‌شد. این مشکل در نسخه‌ی جدید برطرف شده و در صورت عدم وجود موجودی کافی از محصول، حواله ثبت نشده و پیغامی مبتنی بر عدم وجود موجودی کافی به کاربر نمایش داده‌‌می‌شود.
- **تماس؛ رفع مشکلات عدم نمایش مسئولان پروفایل هنگام تماس‌های ورودی**<br>
در نسخه‌ی قبلی هنگام نمایش پنجره (پاپ‌آپ) تماس، مسئولان پروفایل تماس‌گیرنده (مسئول فروش، مسئول پشتیبانی و مسئول متفرقه که در صفحه مشخصات هویت مشخص می‌شود)، نمایش داده‌نمی‌شد. این مشکل رفع شده و مشابه قبل، کاربران می‌توانند مسئولان پروفایل را نیز در کنار نام تماس‌گیرنده در پنجره‌ی تماس‌های ورودی مشاهده کنند.