# فعالیت تخصیص مقدار 

با استفاده از این فعالیت می‌توانید یک مقدار دلخواه را به یکی از فیلدهای آیتم تحت چرخه اختصاص دهید (این فیلدها می‌توانند فیلدهای پیش‌فرض و یا فیلدهای اضافه شده از قسمت شخصی‌سازی باشند) 

به طور مثال فرض کنید یک چرخه کاری روی آیتم فرم درخواست مرخصی طراحی کرده‌اید و می‌خواهید پس از ثبت درخواست، فرم به کارتابل مدیر دپارتمان مربوط به شخص درخواست دهنده برای رویت و بررسی ارجاع شود. می‌توانید با ساختن یک فیلد از نوع لیست برای انتخاب دپارتمان مربوطه، یک فیلد از نوع لیست کاربر برای مدیر مربوطه و فعالیت‌های تصمیم و تخصیص مقدار این کار را انجام دهید، نحوه عملکرد به این صورت است که شخص درخواست دهنده دپارتمان خود را مشخص می‌کند و با استفاده از فعالیت‌های تصمیم و قراردادن یک فعالیت تخصیص مقدار پس از هرکدام از تصمیم‌ها، فیلد مدیر مربوطه را به مدیر دپارتمان مربوط به شخص درخواست دهنده اختصاص می‌دهد. (فلوچارت این قسمت از فرایند درصورتی‌که سه دپارتمان استقرار، پشتیبانی و فروش داشته باشیم به‌صورت زیر خواهد بود) 
 
 ![استفاده از فعالیت تخصیص مقدار در فرآیند](Set-value-in-progress.png)

### تخصیص مقدار فیلدها از دو طریق انجام می‌شود:

**1)**    با فعال‌کردن چک باکس اعمال و تعیین مقدار موردنظر، آن فیلد طی این فرایند مقداردهی می‌شود.

**2)**    درصورتی‌که بخواهید مقداردهی فیلدها از بانک اطلاعاتی پیام‌گستر انجام شود، باید چک باکس عبارت هم فعال شود و کوئری موردنظر برای دریافت اطلاعات نوشته شود.(نحوه مقداردهی فیلدها از طریق نوشتن Custom Expression در بخش [نحوه استفاده از Expression](https://github.com/1stco/PayamGostarDocs/blob/master/Help/Settings/Personalization-crm/Overview/Process-design/Create-a-work-cycle/Activity/SQL/Custom-Expression.md) توضیح داده شده است.)

> **نکته:** اگر برای یکی از فیلدها مقداری وارد نکنید و چک باکس "اعمال" را برای آن فعال کرده باشید، فیلد با اجرای این فعالیت خالی خواهد شد.

![استفاده از Expression در فعالیت تخصیص مقدار](Expression-in-set-value-activity.png)


علاوه بر این، فعالیت تخصیص مقدار قابلیت "ثبت لحظه تخصیص" در فیلد از نوع تاریخ و ساعت را نیز داراست، به طور مثال فرض کنید بخواهید در فرایند فرصت فروش، تاریخ دقیق هریک از مراحل فروش (صدور پیش‌فاکتور، تأیید پیش‌فاکتور، تأیید دریافت، ارسال کالا، نظرسنجی و ...) را داشته باشید، به‌راحتی می‌توانید با استفاده از ساختن فیلدهای تاریخی مربوطه و استفاده از فعالیت تخصیص پس از هریک از مراحل فروش و تخصیص خودکار لحظه ورود به هریک از مراحل توسط سیستم، این کار را انجام دهید.

برای ثبت لحظه تخصیص کافی است چک باکس‌های "اعمال" و "ثبت لحظه تخصیص" را برای فیلد مربوطه فعال کنید. (به‌صورت زیر) 

![ثبت لحظه تخصیص مقدار](Time-of-set-value.png)


> **نکته:**<br>
> امکان استفاده از عبارت برای مقداردهی فیلدها در حال حاضر فقط بر روی آیتم‌هایی از نوع **فرم**، **هویت**، **وظیفه**، **دریافت**، **پرداخت**، **درخواست پشتیبانی** و **انواع فاکتور**، **پیش‌فاکتور** و **فاکتورهای برگشت از خریدوفروش** قابل‌استفاده می‌باشد.

> **نکته:**<br>
>نوع فیلدی که برای مقداردهی انتخاب می‌شود باید با نوع آن در فیلدی که به‌عنوان مبدأ می‌باشد، یکسان باشد. 

### لیست فیلدهای قابل پشتیبانی:

•   Html

•	پول

•	تاریخ شمسی

•	تاریخ میلادی

•	چک باکس

•	ساعت 

•	عدد

•	کاربر

•	گروه

•	لینک

•	متن 

•	شرکت/شخص
